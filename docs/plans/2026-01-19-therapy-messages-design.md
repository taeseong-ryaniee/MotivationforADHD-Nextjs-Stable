# 인지치료 기반 동기부여 메시지 설계

## 개요

기존 7개의 일반 동기부여 메시지를 **400개의 인지치료 기반 메시지**로 업그레이드한다.

### 목표
- ADHD 특화 콘텐츠: 실행기능, 시간맹, 감정조절, 자기비판 등 핵심 어려움 다룸
- 검증된 치료 기법 반영: CBT(인지행동치료), DBT(변증법적 행동치료), ACT(수용전념치료)
- 매일 아침 업무 시작 시 다짐용으로 사용

## 치료 기법 템플릿

### CBT (생각 바꾸기)
부정적 자동사고를 현실적 대안사고로 전환

```
예시:
- "'다 망쳤어'라는 생각이 들 수 있어요. 하지만 한 부분이 어려웠을 뿐이에요"
- "'난 왜 맨날 이럴까' 싶을 때, 기억해주세요. ADHD 뇌가 원래 그래요. 당신 잘못이 아니에요"
```

### DBT (감정 다루기)
감정 인식 + 구체적인 몸 동작/행동 스킬

```
예시:
- "조급한 마음이 올라오면, 손바닥을 5초간 꽉 쥐었다 천천히 펴보세요. 도움이 될 거예요"
- "화가 확 올라올 땐, 차가운 물로 얼굴을 씻어보세요. 마음이 조금 가라앉아요"
```

### ACT (있는 그대로 + 작은 행동)
생각/감정 수용 + 가치 기반 작은 행동

```
예시:
- "'못 할 것 같다'는 생각이 들어도 괜찮아요. 일단 파일 하나만 열어보세요"
- "완벽하지 않아도 돼요. 시작하는 것만으로 이미 한 걸음 나아간 거예요"
```

## 문장 배분

| 카테고리 | CBT (생각) | DBT (감정) | ACT (수용) | 합계 |
|---------|-----------|-----------|-----------|------|
| 시작하기 | 30 | 25 | 25 | 80 |
| 업무/공부 진행 | 35 | 30 | 35 | 100 |
| 막힘/멈춤 | 25 | 20 | 25 | 70 |
| 감정 다스리기 | 15 | 30 | 15 | 60 |
| 실수/자책 대응 | 25 | 10 | 15 | 50 |
| 대인관계/소통 | 15 | 15 | 10 | 40 |
| **총합** | **145** | **130** | **125** | **400** |

### 카테고리별 핵심 주제

- **시작하기**: 첫 발 떼기, 완벽주의 내려놓기, 작게 시작하기
- **업무/공부 진행**: 집중 유지, 멀티태스킹 방지, 작업 기억 보조
- **막힘/멈춤**: 회피 인정, 재시작, 방향 전환
- **감정 다스리기**: 분노, 좌절, 불안, 지루함
- **실수/자책 대응**: 자기비판 멈추기, RSD 대응, 회복탄력성
- **대인관계/소통**: 충동 발언, 경청, 갈등 대응

## 문체 가이드라인

- 친절하고 따뜻한 말투
- 의문문 금지 → 평서문/명령문만 사용
- 전문 용어 금지 → 쉬운 일상 표현으로
- 예: "TIPP 기법을 써보세요" ❌ → "차가운 물로 얼굴을 씻어보세요" ✅

## 데이터 구조

`public/content/ko.json`:

```json
{
  "version": "2.0.0",
  "locale": "ko",
  "therapyMessages": {
    "starting": {
      "label": "시작하기",
      "cbt": ["...", "..."],
      "dbt": ["...", "..."],
      "act": ["...", "..."]
    },
    "working": {
      "label": "업무/공부 진행",
      "cbt": [], "dbt": [], "act": []
    },
    "stuck": {
      "label": "막힘/멈춤",
      "cbt": [], "dbt": [], "act": []
    },
    "emotion": {
      "label": "감정 다스리기",
      "cbt": [], "dbt": [], "act": []
    },
    "mistake": {
      "label": "실수/자책 대응",
      "cbt": [], "dbt": [], "act": []
    },
    "social": {
      "label": "대인관계/소통",
      "cbt": [], "dbt": [], "act": []
    }
  },
  "antiBrainFogTips": ["/* 기존 유지 */"],
  "practicalTips": ["/* 기존 유지 */"],
  "daySpecificMessages": {"/* 기존 유지 */"}
}
```

## 메시지 선택 로직

```typescript
// lib/utils/messageSelector.ts

function getDailyMessage(content: ContentData): string {
  // 1. 오늘 날짜를 시드로 사용 (같은 날은 같은 메시지)
  const today = new Date().toISOString().split('T')[0]
  const seed = hashDate(today)

  // 2. 모든 메시지를 하나의 배열로 평탄화
  const allMessages = flattenAllMessages(content.therapyMessages)

  // 3. 시드 기반 랜덤 선택
  const index = seed % allMessages.length
  return allMessages[index]
}
```

**특징:**
- 같은 날 = 같은 메시지 (앱 재실행해도 동일)
- 다음 날 = 새 메시지
- 400일 주기로 순환

## 마이그레이션

- `motivationMessages` (7개) → 삭제, `therapyMessages`로 대체
- `antiBrainFogTips`, `practicalTips`, `daySpecificMessages` → 기존 유지

## 구현 작업 목록

1. [ ] 카테고리별 400개 문장 작성
2. [ ] `public/content/ko.json` 구조 업데이트
3. [ ] `lib/types.ts`에 새로운 타입 정의 추가
4. [ ] `lib/utils/messageSelector.ts` 생성
5. [ ] `hooks/useContent.ts` 수정 (새 구조 지원)
6. [ ] 메인 화면 컴포넌트 업데이트
7. [ ] 테스트 작성
